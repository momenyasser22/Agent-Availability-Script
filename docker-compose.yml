version: '3.8'

services:
  agent-availability:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: agent-availability-app
    stdin_open: true
    tty: true
    volumes:
      # Mount current directory as workspace (so you can use your local files)
      - .:/app/workspace:rw
      # Mount local data/ directory for persistent database
      - ./data:/app/data
      # Mount local reports/ directory for output files
      - ./reports:/app/reports
    environment:
      - TZ=UTC
    working_dir: /app
    command: python agent_availability.py

    # For interactive input in terminal
    deploy:
      resources:
        limits:
          memory: 512M
        reservations:
          memory: 256M
